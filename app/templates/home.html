<!DOCTYPE html>
<html lang="en">
<script>
    /* ===================================
   UniBase - Authentication System
   Handle login, registration, and session management
   =================================== */

// Registration function
function registerUser(formData) {
    const { name, email, password, confirmPassword, studentId } = formData;

    // Validation
    if (!name || !email || !password || !confirmPassword) {
        return { success: false, message: 'All fields are required' };
    }

    if (password !== confirmPassword) {
        return { success: false, message: 'Passwords do not match' };
    }

    if (password.length < 6) {
        return { success: false, message: 'Password must be at least 6 characters' };
    }

    // Check if email already exists
    const existingUser = getUserByEmail(email);
    if (existingUser) {
        return { success: false, message: 'Email already registered' };
    }

    // Create new user
    const newUser = {
        id: 'user-' + Date.now(),
        name,
        email,
        password, // In production, this should be hashed
        studentId: studentId || '',
        role: 'student',
        createdAt: new Date().toISOString()
    };

    saveUser(newUser);

    return { success: true, message: 'Registration successful!', user: newUser };
}

// Login function
function loginUser(email, password) {
    if (!email || !password) {
        return { success: false, message: 'Email and password are required' };
    }

    const user = getUserByEmail(email);

    if (!user) {
        return { success: false, message: 'Invalid email or password' };
    }

    if (user.password !== password) {
        return { success: false, message: 'Invalid email or password' };
    }

    // Set current user in session
    setCurrentUser(user);

    return { success: true, message: 'Login successful!', user };
}

// Check if user is authenticated
function isAuthenticated() {
    return getCurrentUser() !== null;
}

// Check if current user is admin
function isAdmin() {
    const user = getCurrentUser();
    return user && user.role === 'admin';
}

// Redirect based on role
function redirectToRolePage() {
    const user = getCurrentUser();
    if (!user) {
        window.location.href = 'login.html';
        return;
    }

    if (user.role === 'admin') {
        window.location.href = 'admin-dashboard.html';
    } else {
        window.location.href = 'student-dashboard.html';
    }
}

// Protect page - redirect if not authenticated
function requireAuth() {
    if (!isAuthenticated()) {
        window.location.href = 'login.html';
    }
}

// Protect admin page - redirect if not admin
function requireAdmin() {
    if (!isAuthenticated()) {
        window.location.href = 'login.html';
        return;
    }

    if (!isAdmin()) {
        window.location.href = 'student-dashboard.html';
    }
}

// Logout function
function handleLogout() {
    logout();
    window.location.href = 'index.html';
}

// Show/hide navigation based on auth status
function updateNavigation() {
    const user = getCurrentUser();
    const authLinks = document.getElementById('auth-links');
    const userLinks = document.getElementById('user-links');

    if (!authLinks || !userLinks) return;

    if (user) {
        authLinks.classList.add('hidden');
        userLinks.classList.remove('hidden');

        const userName = document.getElementById('user-name');
        if (userName) {
            userName.textContent = user.name;
        }
    } else {
        authLinks.classList.remove('hidden');
        userLinks.classList.add('hidden');
    }
}
/* ===================================
   UniBase - Multi-Language System
   Translation management and language switching
   =================================== */

const TRANSLATIONS = {
    en: {
        // Navigation
        nav_tests: 'Tests',
        nav_universities: 'Universities',
        nav_news: 'News',
        nav_features: 'Features',
        nav_support: 'Support',
        nav_login: 'Login',
        nav_register: 'Register',
        nav_dashboard: 'Dashboard',
        nav_logout: 'Logout',
        nav_manage_tests: 'Manage Tests',

        // Hero Section
        hero_title: 'Preparation Like a Real Exam',
        hero_subtitle: 'IELTS, SAT, Milliy certificate, IQ, DTM ‚Äî timed practice tests in a realistic exam environment',
        hero_btn_start: 'Start Free',
        hero_btn_view: 'View Tests',

        // Test Cards
        test_start: 'Start Test',
        test_badge_english: 'ENGLISH',
        test_badge_academic: 'ACADEMIC',
        test_badge_national: 'NATIONAL',
        test_badge_entrance: 'ENTRANCE',
        test_badge_cognitive: 'COGNITIVE',

        // Test Section
        tests_title: 'Choose Your Test',
        test_ielts_title: 'IELTS',
        test_ielts_desc: 'Comprehensive IELTS practice across all sections with realistic exam conditions.',
        test_sat_title: 'SAT',
        test_sat_desc: 'Prepare for SAT with Math and English sections in a timed environment.',
        test_milliy_title: 'Milliy certificate',
        test_milliy_desc: 'National certification exam practice with comprehensive question bank.',
        test_dtm_title: 'DTM',
        test_dtm_desc: 'Prepare for university entrance exams with realistic test simulations.',
        test_iq_title: 'IQ',
        test_iq_desc: 'Test your cognitive abilities with timed IQ assessment questions.',

        // Features
        features_title: 'Why Choose UniBase?',
        feature_realistic_title: 'üéØ Realistic Exam Environment',
        feature_realistic_desc: 'Experience the pressure and atmosphere of real exams with authentic interfaces, timers, and question formats.',
        feature_analytics_title: 'üìä Detailed Analytics',
        feature_analytics_desc: 'Track your performance with comprehensive analysis of your strengths, weaknesses, and progress over time.',
        feature_progress_title: 'üìà Track Your Progress',
        feature_progress_desc: 'Monitor your improvement with dynamic progress tracking, personalized recommendations, and goal setting.',

        // Login Page
        login_title: 'Welcome Back',
        login_subtitle: 'Login to continue your exam preparation',
        login_email: 'Email Address',
        login_password: 'Password',
        login_remember: 'Remember me',
        login_btn: 'Login',
        login_no_account: "Don't have an account?",
        login_register_here: 'Register here',
        login_demo: 'Demo Credentials:',

        // Register Page
        register_title: 'Create Account',
        register_subtitle: 'Start your exam preparation journey',
        register_name: 'Full Name',
        register_email: 'Email Address',
        register_student_id: 'Student ID (Optional)',
        register_password: 'Password',
        register_confirm: 'Confirm Password',
        register_btn: 'Create Account',
        register_have_account: 'Already have an account?',
        register_login_here: 'Login here',

        // Student Dashboard
        dashboard_welcome: 'Welcome',
        dashboard_subtitle: 'Choose a test to start your practice session',
        dashboard_available_tests: 'Available Tests',
        dashboard_recent_results: 'My Recent Results',
        dashboard_no_tests: 'No tests available yet. Please check back later.',
        dashboard_no_results: "You haven't taken any tests yet. Start practicing to see your results here!",

        // Common
        duration: 'Duration',
        questions: 'Questions',
        minutes: 'minutes',
        footer_rights: 'All rights reserved.',
        footer_copyright: '¬© 2023 UniBase. All rights reserved.',
        footer_tests: 'Tests',
        footer_features: 'Features',
        footer_privacy: 'Privacy Policy',
        footer_contact: 'Contact',
        home: 'Home',

        // Admin Dashboard
        admin_dashboard_title: 'Admin Dashboard',
        admin_dashboard_subtitle: 'Manage tests and monitor student performance',
        admin_total_tests: 'Total Tests',
        admin_registered_students: 'Registered Students',
        admin_test_attempts: 'Test Attempts',
        admin_quick_actions: 'Quick Actions',
        admin_add_new_test: 'Add New Test',
        admin_add_test_desc: 'Create a new exam for students to practice',
        admin_create_test: 'Create Test',
        admin_manage_tests_title: 'Manage Tests',
        admin_manage_tests_desc: 'View, edit, or delete existing tests',
        admin_view_tests: 'View Tests',
        admin_view_students_title: 'View Students',
        admin_view_students_desc: 'See all registered students and their progress',
        admin_view_students_btn: 'View Students',
        admin_recent_activity: 'Recent Test Activity',
        admin_no_activity: 'No test activity yet.',
        admin_registered_students_title: 'Registered Students',
        admin_no_students: 'No students registered yet.',

        // Admin Tests Management
        admin_tests_manage_title: 'Manage Tests',
        admin_tests_add_new: 'Add New Test',
        admin_tests_create_new: 'Create New Test',
        admin_tests_edit: 'Edit Test',
        admin_tests_test_name: 'Test Name',
        admin_tests_category: 'Category',
        admin_tests_select_category: 'Select category...',
        admin_tests_duration_min: 'Duration (minutes)',
        admin_tests_description: 'Description',
        admin_tests_questions_section: 'Questions',
        admin_tests_add_question: 'Add Question',
        admin_tests_save: 'Save Test',
        admin_tests_cancel: 'Cancel',
        admin_tests_existing: 'Existing Tests',
        admin_tests_no_tests: 'No tests created yet. Click "Add New Test" to create one.',
        admin_tests_edit_btn: 'Edit',
        admin_tests_delete_btn: 'Delete',
        admin_tests_created: 'Created',
        admin_tests_question_text: 'Question Text',
        admin_tests_option: 'Option',
        admin_tests_correct_answer: 'Correct Answer',
        admin_tests_select_correct: 'Select correct answer...',
        admin_tests_remove: 'Remove',
        admin_tests_question: 'Question',

        // Test Taking
        test_taking_loading: 'Loading Test...',
        test_taking_question_of: 'Question',
        test_taking_of: 'of',
        test_taking_pause: 'Pause',
        test_taking_resume: 'Resume',
        test_taking_previous: 'Previous',
        test_taking_next: 'Next',
        test_taking_submit: 'Submit Test',

        // Test Results
        results_title: 'Test Results',
        results_your_score: 'Your Score',
        results_percentage: 'Percentage',
        results_time_taken: 'Time Taken',
        results_answer_review: 'Answer Review',
        results_back_dashboard: 'Back to Dashboard',
        results_print: 'Print Results',
        results_excellent: 'Excellent!',
        results_excellent_msg: 'Outstanding performance!',
        results_good: 'Good Job!',
        results_good_msg: 'You passed the test.',
        results_fair: 'Fair',
        results_fair_msg: 'Consider reviewing the material and trying again.',
        results_keep_practicing: 'Keep Practicing',
        results_practice_msg: 'Review the material and attempt again.',
        results_correct: 'Correct',
        results_incorrect: 'Incorrect',
        results_your_answer: 'Your Answer',
        results_correct_answer: 'Correct Answer',
        results_not_answered: 'Not answered',

        // Table Headers
        table_name: 'Name',
        table_email: 'Email',
        table_student_id: 'Student ID',
        table_registered: 'Registered',
        table_student: 'Student',
        table_test: 'Test',
        table_test_name: 'Test Name',
        table_score: 'Score',
        table_time: 'Time',
        table_date: 'Date',
    },

    ru: {
        // Navigation
        nav_tests: '–¢–µ—Å—Ç—ã',
        nav_universities: '–£–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç—ã',
        nav_news: '–ù–æ–≤–æ—Å—Ç–∏',
        nav_features: '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏',
        nav_support: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞',
        nav_login: '–í–æ–π—Ç–∏',
        nav_register: '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è',
        nav_dashboard: '–ü–∞–Ω–µ–ª—å',
        nav_logout: '–í—ã–π—Ç–∏',
        nav_manage_tests: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏',

        // Hero Section
        hero_title: '–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–∞–∫ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —ç–∫–∑–∞–º–µ–Ω–µ',
        hero_subtitle: 'IELTS, SAT, Milliy certificate, IQ, DTM ‚Äî —Ç–µ—Å—Ç—ã —Å —Ç–∞–π–º–µ—Ä–æ–º –≤ —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ–π —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω–æ–π —Å—Ä–µ–¥–µ',
        hero_btn_start: '–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ',
        hero_btn_view: '–°–º–æ—Ç—Ä–µ—Ç—å —Ç–µ—Å—Ç—ã',

        // Test Cards
        test_start: '–ù–∞—á–∞—Ç—å —Ç–µ—Å—Ç',
        test_badge_english: '–ê–ù–ì–õ–ò–ô–°–ö–ò–ô',
        test_badge_academic: '–ê–ö–ê–î–ï–ú–ò–ß–ï–°–ö–ò–ô',
        test_badge_national: '–ù–ê–¶–ò–û–ù–ê–õ–¨–ù–´–ô',
        test_badge_entrance: '–í–°–¢–£–ü–ò–¢–ï–õ–¨–ù–´–ô',
        test_badge_cognitive: '–ö–û–ì–ù–ò–¢–ò–í–ù–´–ô',

        // Test Section
        tests_title: '–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–π —Ç–µ—Å—Ç',
        test_ielts_title: 'IELTS',
        test_ielts_desc: '–í—Å–µ—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –ø—Ä–∞–∫—Ç–∏–∫–∞ IELTS –ø–æ –≤—Å–µ–º —Ä–∞–∑–¥–µ–ª–∞–º —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ —ç–∫–∑–∞–º–µ–Ω–∞.',
        test_sat_title: 'SAT',
        test_sat_desc: '–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ SAT —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –≤ —É—Å–ª–æ–≤–∏—è—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.',
        test_milliy_title: 'Milliy certificate',
        test_milliy_desc: '–ü—Ä–∞–∫—Ç–∏–∫–∞ –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —ç–∫–∑–∞–º–µ–Ω–∞ —Å –ø–æ–ª–Ω—ã–º –±–∞–Ω–∫–æ–º –≤–æ–ø—Ä–æ—Å–æ–≤.',
        test_dtm_title: 'DTM',
        test_dtm_desc: '–ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ—Å—å –∫ –≤—Å—Ç—É–ø–∏—Ç–µ–ª—å–Ω—ã–º —ç–∫–∑–∞–º–µ–Ω–∞–º –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç —Å —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–º–∏ —Å–∏–º—É–ª—è—Ü–∏—è–º–∏ —Ç–µ—Å—Ç–æ–≤.',
        test_iq_title: 'IQ',
        test_iq_desc: '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–∏ –∫–æ–≥–Ω–∏—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é —Ç–µ—Å—Ç–æ–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –Ω–∞ IQ —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏.',

        // Features
        features_title: '–ü–æ—á–µ–º—É –≤—ã–±–∏—Ä–∞—é—Ç UniBase?',
        feature_realistic_title: 'üéØ –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Å—Ä–µ–¥–∞ —ç–∫–∑–∞–º–µ–Ω–∞',
        feature_realistic_desc: '–ü–æ—á—É–≤—Å—Ç–≤—É–π—Ç–µ –¥–∞–≤–ª–µ–Ω–∏–µ –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –Ω–∞—Å—Ç–æ—è—â–∏—Ö —ç–∫–∑–∞–º–µ–Ω–æ–≤ —Å –∞—É—Ç–µ–Ω—Ç–∏—á–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏, —Ç–∞–π–º–µ—Ä–∞–º–∏ –∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –≤–æ–ø—Ä–æ—Å–æ–≤.',
        feature_analytics_title: 'üìä –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞',
        feature_analytics_desc: '–û—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ —Å–≤–æ—é —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç—å —Å –ø–æ–º–æ—â—å—é –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Å–∏–ª—å–Ω—ã—Ö –∏ —Å–ª–∞–±—ã—Ö —Å—Ç–æ—Ä–æ–Ω, –∞ —Ç–∞–∫–∂–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞.',
        feature_progress_title: 'üìà –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞',
        feature_progress_desc: '–°–ª–µ–¥–∏—Ç–µ –∑–∞ —Å–≤–æ–∏–º —É–ª—É—á—à–µ–Ω–∏–µ–º —Å –ø–æ–º–æ—â—å—é –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.',

        // Login Page
        login_title: '–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º',
        login_subtitle: '–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –∫ —ç–∫–∑–∞–º–µ–Ω—É',
        login_email: '–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞',
        login_password: '–ü–∞—Ä–æ–ª—å',
        login_remember: '–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è',
        login_btn: '–í–æ–π—Ç–∏',
        login_no_account: '–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞?',
        login_register_here: '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∑–¥–µ—Å—å',
        login_demo: '–î–µ–º–æ-—É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:',

        // Register Page
        register_title: '–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç',
        register_subtitle: '–ù–∞—á–Ω–∏—Ç–µ —Å–≤–æ–µ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ —ç–∫–∑–∞–º–µ–Ω—É',
        register_name: '–ü–æ–ª–Ω–æ–µ –∏–º—è',
        register_email: '–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞',
        register_student_id: 'ID —Å—Ç—É–¥–µ–Ω—Ç–∞ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)',
        register_password: '–ü–∞—Ä–æ–ª—å',
        register_confirm: '–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å',
        register_btn: '–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç',
        register_have_account: '–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç?',
        register_login_here: '–í–æ–π–¥–∏—Ç–µ –∑–¥–µ—Å—å',

        // Student Dashboard
        dashboard_welcome: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å',
        dashboard_subtitle: '–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ—Å—Ç, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø—Ä–∞–∫—Ç–∏–∫—É',
        dashboard_available_tests: '–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç–µ—Å—Ç—ã',
        dashboard_recent_results: '–ú–æ–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã',
        dashboard_no_tests: '–¢–µ—Å—Ç—ã –ø–æ–∫–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–π–¥–∏—Ç–µ –ø–æ–∑–∂–µ.',
        dashboard_no_results: '–í—ã –µ—â–µ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏ —Ç–µ—Å—Ç—ã. –ù–∞—á–Ω–∏—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–¥–µ—Å—å!',

        // Common
        duration: '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
        questions: '–í–æ–ø—Ä–æ—Å—ã',
        minutes: '–º–∏–Ω—É—Ç',
        footer_rights: '–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.',
        footer_copyright: '¬© 2023 UniBase. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.',
        footer_tests: '–¢–µ—Å—Ç—ã',
        footer_features: '–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏',
        footer_privacy: '–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏',
        footer_contact: '–ö–æ–Ω—Ç–∞–∫—Ç—ã',
        home: '–ì–ª–∞–≤–Ω–∞—è',

        // Admin Dashboard
        admin_dashboard_title: '–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞',
        admin_dashboard_subtitle: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤',
        admin_total_tests: '–í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤',
        admin_registered_students: '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤',
        admin_test_attempts: '–ü–æ–ø—ã—Ç–æ–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è',
        admin_quick_actions: '–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è',
        admin_add_new_test: '–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç',
        admin_add_test_desc: '–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–∞–º–µ–Ω –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤',
        admin_create_test: '–°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç',
        admin_manage_tests_title: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏',
        admin_manage_tests_desc: '–ü—Ä–æ—Å–º–æ—Ç—Ä, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤',
        admin_view_tests: '–°–º–æ—Ç—Ä–µ—Ç—å —Ç–µ—Å—Ç—ã',
        admin_view_students_title: '–ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç—É–¥–µ–Ω—Ç–æ–≤',
        admin_view_students_desc: '–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ –∏ –∏—Ö –ø—Ä–æ–≥—Ä–µ—Å—Å',
        admin_view_students_btn: '–°–º–æ—Ç—Ä–µ—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤',
        admin_recent_activity: '–ù–µ–¥–∞–≤–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è',
        admin_no_activity: '–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ–∫–∞ –Ω–µ—Ç.',
        admin_registered_students_title: '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—É–¥–µ–Ω—Ç—ã',
        admin_no_students: '–°—Ç—É–¥–µ–Ω—Ç—ã –µ—â–µ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã.',

        // Admin Tests Management
        admin_tests_manage_title: '–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞–º–∏',
        admin_tests_add_new: '–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç',
        admin_tests_create_new: '–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç',
        admin_tests_edit: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç',
        admin_tests_test_name: '–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞',
        admin_tests_category: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è',
        admin_tests_select_category: '–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é...',
        admin_tests_duration_min: '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω—É—Ç—ã)',
        admin_tests_description: '–û–ø–∏—Å–∞–Ω–∏–µ',
        admin_tests_questions_section: '–í–æ–ø—Ä–æ—Å—ã',
        admin_tests_add_question: '–î–æ–±–∞–≤–∏—Ç—å –≤–æ–ø—Ä–æ—Å',
        admin_tests_save: '–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ—Å—Ç',
        admin_tests_cancel: '–û—Ç–º–µ–Ω–∞',
        admin_tests_existing: '–°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã',
        admin_tests_no_tests: '–¢–µ—Å—Ç—ã –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω—ã. –ù–∞–∂–º–∏—Ç–µ ¬´–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —Ç–µ—Å—Ç¬ª, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å.',
        admin_tests_edit_btn: '–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å',
        admin_tests_delete_btn: '–£–¥–∞–ª–∏—Ç—å',
        admin_tests_created: '–°–æ–∑–¥–∞–Ω–æ',
        admin_tests_question_text: '–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞',
        admin_tests_option: '–í–∞—Ä–∏–∞–Ω—Ç',
        admin_tests_correct_answer: '–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç',
        admin_tests_select_correct: '–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç...',
        admin_tests_remove: '–£–¥–∞–ª–∏—Ç—å',
        admin_tests_question: '–í–æ–ø—Ä–æ—Å',

        // Test Taking
        test_taking_loading: '–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–∞...',
        test_taking_question_of: '–í–æ–ø—Ä–æ—Å',
        test_taking_of: '–∏–∑',
        test_taking_pause: '–ü–∞—É–∑–∞',
        test_taking_resume: '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å',
        test_taking_previous: '–ü—Ä–µ–¥—ã–¥—É—â–∏–π',
        test_taking_next: '–°–ª–µ–¥—É—é—â–∏–π',
        test_taking_submit: '–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç',

        // Test Results
        results_title: '–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞',
        results_your_score: '–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç',
        results_percentage: '–ü—Ä–æ—Ü–µ–Ω—Ç',
        results_time_taken: '–ó–∞—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è',
        results_answer_review: '–û–±–∑–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤',
        results_back_dashboard: '–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –ø–∞–Ω–µ–ª—å',
        results_print: '–ü–µ—á–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤',
        results_excellent: '–û—Ç–ª–∏—á–Ω–æ!',
        results_excellent_msg: '–í—ã–¥–∞—é—â–∏–π—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç!',
        results_good: '–•–æ—Ä–æ—à–∞—è —Ä–∞–±–æ—Ç–∞!',
        results_good_msg: '–í—ã –ø—Ä–æ—à–ª–∏ —Ç–µ—Å—Ç.',
        results_fair: '–£–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ',
        results_fair_msg: '–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.',
        results_keep_practicing: '–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –ø—Ä–∞–∫—Ç–∏–∫–æ–≤–∞—Ç—å—Å—è',
        results_practice_msg: '–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –º–∞—Ç–µ—Ä–∏–∞–ª –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.',
        results_correct: '–ü—Ä–∞–≤–∏–ª—å–Ω–æ',
        results_incorrect: '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ',
        results_your_answer: '–í–∞—à –æ—Ç–≤–µ—Ç',
        results_correct_answer: '–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç',
        results_not_answered: '–ù–µ –æ—Ç–≤–µ—á–µ–Ω–æ',

        // Table Headers
        table_name: '–ò–º—è',
        table_email: 'Email',
        table_student_id: 'ID —Å—Ç—É–¥–µ–Ω—Ç–∞',
        table_registered: '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω',
        table_student: '–°—Ç—É–¥–µ–Ω—Ç',
        table_test: '–¢–µ—Å—Ç',
        table_test_name: '–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞',
        table_score: '–†–µ–∑—É–ª—å—Ç–∞—Ç',
        table_time: '–í—Ä–µ–º—è',
        table_date: '–î–∞—Ç–∞',
    },

    uz: {
        // Navigation
        nav_tests: 'Testlar',
        nav_universities: 'Universitetlar',
        nav_news: 'Yangiliklar',
        nav_features: "Xususiyatlar",
        nav_support: 'Yordam',
        nav_login: 'Kirish',
        nav_register: "Ro'yxatdan o'tish",
        nav_dashboard: 'Boshqaruv paneli',
        nav_logout: 'Chiqish',
        nav_manage_tests: "Testlarni boshqarish",

        // Hero Section
        hero_title: 'Haqiqiy imtihonga tayyorgarlik',
        hero_subtitle: "IELTS, SAT, Milliy sertifikat, IQ, DTM ‚Äî real imtihon muhitida vaqt bilan cheklangan mashq testlari",
        hero_btn_start: 'Bepul boshlash',
        hero_btn_view: "Testlarni ko'rish",

        // Test Cards
        test_start: "Testni boshlash",
        test_badge_english: 'INGLIZ TILI',
        test_badge_academic: 'AKADEMIK',
        test_badge_national: 'MILLIY',
        test_badge_entrance: 'KIRISH',
        test_badge_cognitive: 'KOGNITIV',

        // Test Section
        tests_title: 'Testingizni tanlang',
        test_ielts_title: 'IELTS',
        test_ielts_desc: "Haqiqiy imtihon sharoitida barcha bo'limlar bo'yicha keng qamrovli IELTS amaliyoti.",
        test_sat_title: 'SAT',
        test_sat_desc: "Vaqt bilan cheklangan muhitda matematika va ingliz tili bo'limlari bilan SAT ga tayyorlaning.",
        test_milliy_title: 'Milliy sertifikat',
        test_milliy_desc: "Keng qamrovli savol bankasi bilan milliy sertifikatlash imtihoni amaliyoti.",
        test_dtm_title: 'DTM',
        test_dtm_desc: "Haqiqiy test simulyatsiyalari bilan universitet kirish imtihonlariga tayyorlaning.",
        test_iq_title: 'IQ',
        test_iq_desc: "Vaqt bilan cheklangan IQ baholash savollari bilan kognitiv qobiliyatingizni sinab ko'ring.",

        // Features
        features_title: 'Nega UniBase?',
        feature_realistic_title: 'üéØ Real imtihon muhiti',
        feature_realistic_desc: "Haqiqiy interfeys, taymer va savol formatlari bilan real imtihonlarning bosim va muhitini his qiling.",
        feature_analytics_title: "üìä Batafsil tahlil",
        feature_analytics_desc: "Kuchli va zaif tomonlaringizni, vaqt o'tishi bilan taraqqiyotingizni to'liq tahlil qilish orqali baholang.",
        feature_progress_title: "üìà Taraqqiyotni kuzatish",
        feature_progress_desc: "Dinamik taraqqiyot kuzatuvi, shaxsiy tavsiyalar va maqsad belgilash bilan yaxshilanishingizni kuzating.",

        // Login Page
        login_title: 'Xush kelibsiz',
        login_subtitle: "Imtihonga tayyorgarlikni davom ettirish uchun kiring",
        login_email: 'Email manzil',
        login_password: 'Parol',
        login_remember: "Meni eslab qol",
        login_btn: 'Kirish',
        login_no_account: "Hisobingiz yo'qmi?",
        login_register_here: "Bu yerda ro'yxatdan o'ting",
        login_demo: "Demo ma'lumotlar:",

        // Register Page
        register_title: "Hisob yaratish",
        register_subtitle: "Imtihonga tayyorgarlik sayohatingizni boshlang",
        register_name: "To'liq ism",
        register_email: 'Email manzil',
        register_student_id: "Talaba ID (ixtiyoriy)",
        register_password: 'Parol',
        register_confirm: "Parolni tasdiqlang",
        register_btn: "Hisob yaratish",
        register_have_account: "Hisobingiz bormi?",
        register_login_here: "Bu yerda kiring",

        // Student Dashboard
        dashboard_welcome: 'Xush kelibsiz',
        dashboard_subtitle: "Amaliy mashg'ulotni boshlash uchun testni tanlang",
        dashboard_available_tests: "Mavjud testlar",
        dashboard_recent_results: "Mening so'nggi natijalarim",
        dashboard_no_tests: "Hozircha testlar mavjud emas. Keyinroq tekshiring.",
        dashboard_no_results: "Siz hali test topshirmadingiz. Natijalarni ko'rish uchun mashq qilishni boshlang!",

        // Common
        duration: 'Davomiyligi',
        questions: 'Savollar',
        minutes: 'daqiqa',
        footer_rights: "Barcha huquqlar himoyalangan.",
        footer_copyright: '¬© 2023 UniBase. Barcha huquqlar himoyalangan.',
        footer_tests: 'Testlar',
        footer_features: 'Xususiyatlar',
        footer_privacy: 'Maxfiylik siyosati',
        footer_contact: 'Aloqa',
        home: 'Bosh sahifa',

        // Admin Dashboard
        admin_dashboard_title: 'Admin paneli',
        admin_dashboard_subtitle: "Testlarni boshqarish va talabalar faoliyatini kuzatish",
        admin_total_tests: 'Jami testlar',
        admin_registered_students: "Ro'yxatdan o'tgan talabalar",
        admin_test_attempts: 'Test urinishlari',
        admin_quick_actions: 'Tez harakatlar',
        admin_add_new_test: 'Yangi test qo\'shish',
        admin_add_test_desc: "Talabalar uchun yangi imtihon yaratish",
        admin_create_test: 'Test yaratish',
        admin_manage_tests_title: "Testlarni boshqarish",
        admin_manage_tests_desc: "Mavjud testlarni ko'rish, tahrirlash yoki o'chirish",
        admin_view_tests: "Testlarni ko'rish",
        admin_view_students_title: "Talabalarni ko'rish",
        admin_view_students_desc: "Barcha ro'yxatdan o'tgan talabalar va ularning taraqqiyotini ko'rish",
        admin_view_students_btn: "Talabalarni ko'rish",
        admin_recent_activity: "So'nggi test faoliyati",
        admin_no_activity: "Test faoliyati hali yo'q.",
        admin_registered_students_title: "Ro'yxatdan o'tgan talabalar",
        admin_no_students: "Hali talabalar ro'yxatdan o'tmagan.",

        // Admin Tests Management
        admin_tests_manage_title: "Testlarni boshqarish",
        admin_tests_add_new: "Yangi test qo'shish",
        admin_tests_create_new: 'Yangi test yaratish',
        admin_tests_edit: 'Testni tahrirlash',
        admin_tests_test_name: 'Test nomi',
        admin_tests_category: 'Kategoriya',
        admin_tests_select_category: 'Kategoriyani tanlang...',
        admin_tests_duration_min: 'Davomiyligi (daqiqa)',
        admin_tests_description: 'Tavsif',
        admin_tests_questions_section: 'Savollar',
        admin_tests_add_question: "Savol qo'shish",
        admin_tests_save: 'Testni saqlash',
        admin_tests_cancel: 'Bekor qilish',
        admin_tests_existing: 'Mavjud testlar',
        admin_tests_no_tests: "Testlar hali yaratilmagan. Yaratish uchun \"Yangi test qo'shish\" tugmasini bosing.",
        admin_tests_edit_btn: 'Tahrirlash',
        admin_tests_delete_btn: "O'chirish",
        admin_tests_created: 'Yaratilgan',
        admin_tests_question_text: 'Savol matni',
        admin_tests_option: 'Variant',
        admin_tests_correct_answer: "To'g'ri javob",
        admin_tests_select_correct: "To'g'ri javobni tanlang...",
        admin_tests_remove: "O'chirish",
        admin_tests_question: 'Savol',

        // Test Taking
        test_taking_loading: 'Test yuklanmoqda...',
        test_taking_question_of: 'Savol',
        test_taking_of: 'dan',
        test_taking_pause: 'Pauza',
        test_taking_resume: 'Davom ettirish',
        test_taking_previous: 'Oldingi',
        test_taking_next: 'Keyingi',
        test_taking_submit: "Testni topshirish",

        // Test Results
        results_title: 'Test natijalari',
        results_your_score: 'Sizning natijangiz',
        results_percentage: 'Foiz',
        results_time_taken: 'Sarflangan vaqt',
        results_answer_review: "Javoblarni ko'rib chiqish",
        results_back_dashboard: 'Panelga qaytish',
        results_print: "Natijalarni chop etish",
        results_excellent: 'Ajoyib!',
        results_excellent_msg: "A'lo natija!",
        results_good: "Yaxshi ish!",
        results_good_msg: 'Siz testdan o\'tdingiz.',
        results_fair: "Yaxshi",
        results_fair_msg: "Materialni ko'rib chiqishni va qayta urinib ko'rishni o'ylab ko'ring.",
        results_keep_practicing: "Mashq qilishda davom eting",
        results_practice_msg: "Materialni ko'rib chiqing va qayta urinib ko'ring.",
        results_correct: "To'g'ri",
        results_incorrect: "Noto'g'ri",
        results_your_answer: 'Sizning javobingiz',
        results_correct_answer: "To'g'ri javob",
        results_not_answered: 'Javob berilmagan',

        // Table Headers
        table_name: 'Ism',
        table_email: 'Email',
        table_student_id: 'Talaba ID',
        table_registered: "Ro'yxatdan o'tgan",
        table_student: 'Talaba',
        table_test: 'Test',
        table_test_name: 'Test nomi',
        table_score: 'Natija',
        table_time: 'Vaqt',
        table_date: 'Sana',
    }
};

// Get saved language or default to English
function getCurrentLanguage() {
    return localStorage.getItem('unibase_language') || 'en';
}

// Set language
function setLanguage(lang) {
    localStorage.setItem('unibase_language', lang);
    applyTranslations(lang);
}

// Apply translations to the page
function applyTranslations(lang) {
    const translations = TRANSLATIONS[lang] || TRANSLATIONS.en;

    // Find all elements with data-translate attribute
    document.querySelectorAll('[data-translate]').forEach(element => {
        const key = element.getAttribute('data-translate');
        if (translations[key]) {
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translations[key];
            } else {
                element.textContent = translations[key];
            }
        }
    });

    // Update language selector
    const langSelector = document.getElementById('language-selector');
    if (langSelector) {
        langSelector.value = lang;
    }
}

// Initialize language on page load
document.addEventListener('DOMContentLoaded', function () {
    const currentLang = getCurrentLanguage();
    applyTranslations(currentLang);

    // Language selector change event
    const langSelector = document.getElementById('language-selector');
    if (langSelector) {
        langSelector.value = currentLang;
        langSelector.addEventListener('change', function () {
            setLanguage(this.value);
        });
    }
});/* ===================================
   UniBase - LocalStorage Management
   Storage keys and data access functions
   =================================== */

const STORAGE_KEYS = {
    USERS: 'unibase_users',
    TESTS: 'unibase_tests',
    RESULTS: 'unibase_results',
    CURRENT_USER: 'unibase_current_user'
};

// Default admin credentials
const DEFAULT_ADMIN = {
    id: 'admin-001',
    email: 'admin@unibase.com',
    password: 'admin123', // In production, this should be hashed
    role: 'admin',
    name: 'Admin User',
    createdAt: new Date().toISOString()
};

// Initialize storage with default admin
function initializeStorage() {
    if (!localStorage.getItem(STORAGE_KEYS.USERS)) {
        const users = [DEFAULT_ADMIN];
        localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(users));
    }

    if (!localStorage.getItem(STORAGE_KEYS.TESTS)) {
        localStorage.setItem(STORAGE_KEYS.TESTS, JSON.stringify([]));
    }

    if (!localStorage.getItem(STORAGE_KEYS.RESULTS)) {
        localStorage.setItem(STORAGE_KEYS.RESULTS, JSON.stringify([]));
    }
}

// User management
function saveUser(user) {
    const users = getUsers();
    users.push(user);
    localStorage.setItem(STORAGE_KEYS.USERS, JSON.stringify(users));
}

function getUsers() {
    const users = localStorage.getItem(STORAGE_KEYS.USERS);
    return users ? JSON.parse(users) : [];
}

function getUserByEmail(email) {
    const users = getUsers();
    return users.find(user => user.email === email);
}

function setCurrentUser(user) {
    localStorage.setItem(STORAGE_KEYS.CURRENT_USER, JSON.stringify(user));
}

function getCurrentUser() {
    const user = localStorage.getItem(STORAGE_KEYS.CURRENT_USER);
    return user ? JSON.parse(user) : null;
}

function logout() {
    localStorage.removeItem(STORAGE_KEYS.CURRENT_USER);
}

// Test management
function saveTest(test) {
    const tests = getTests();
    test.id = 'test-' + Date.now();
    test.createdAt = new Date().toISOString();
    tests.push(test);
    localStorage.setItem(STORAGE_KEYS.TESTS, JSON.stringify(tests));
    return test;
}

function getTests() {
    const tests = localStorage.getItem(STORAGE_KEYS.TESTS);
    return tests ? JSON.parse(tests) : [];
}

function getTestById(testId) {
    const tests = getTests();
    return tests.find(test => test.id === testId);
}

function updateTest(testId, updatedTest) {
    const tests = getTests();
    const index = tests.findIndex(test => test.id === testId);
    if (index !== -1) {
        tests[index] = { ...tests[index], ...updatedTest };
        localStorage.setItem(STORAGE_KEYS.TESTS, JSON.stringify(tests));
        return tests[index];
    }
    return null;
}

function deleteTest(testId) {
    const tests = getTests();
    const filtered = tests.filter(test => test.id !== testId);
    localStorage.setItem(STORAGE_KEYS.TESTS, JSON.stringify(filtered));
}

// Results management
function saveResult(result) {
    const results = getResults();
    result.id = 'result-' + Date.now();
    result.completedAt = new Date().toISOString();
    results.push(result);
    localStorage.setItem(STORAGE_KEYS.RESULTS, JSON.stringify(results));
    return result;
}

function getResults() {
    const results = localStorage.getItem(STORAGE_KEYS.RESULTS);
    return results ? JSON.parse(results) : [];
}

function getResultsByUserId(userId) {
    const results = getResults();
    return results.filter(result => result.userId === userId);
}

function getResultsByTestId(testId) {
    const results = getResults();
    return results.filter(result => result.testId === testId);
}

// Initialize on load
initializeStorage();
/* ===================================
   UniBase - Theme Management
   Dark mode toggle functionality
   =================================== */

// Get saved theme or default to light
function getCurrentTheme() {
    return localStorage.getItem('unibase_theme') || 'light';
}

// Set theme
function setTheme(theme) {
    localStorage.setItem('unibase_theme', theme);
    applyTheme(theme);
}

// Apply theme to document
function applyTheme(theme) {
    if (theme === 'dark') {
        document.body.classList.add('dark-mode');
    } else {
        document.body.classList.remove('dark-mode');
    }

    // Update toggle button icon
    updateThemeToggleIcon(theme);
}

// Update theme toggle icon
function updateThemeToggleIcon(theme) {
    const themeToggle = document.getElementById('theme-toggle');
    if (themeToggle) {
        if (theme === 'dark') {
            themeToggle.innerHTML = '‚òÄÔ∏è';
            themeToggle.title = 'Switch to light mode';
        } else {
            themeToggle.innerHTML = 'üåô';
            themeToggle.title = 'Switch to dark mode';
        }
    }
}

// Toggle theme
function toggleTheme() {
    const currentTheme = getCurrentTheme();
    const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
    setTheme(newTheme);
}

// Initialize theme on page load
document.addEventListener('DOMContentLoaded', function () {
    const currentTheme = getCurrentTheme();
    applyTheme(currentTheme);

    // Theme toggle button event
    const themeToggle = document.getElementById('theme-toggle');
    if (themeToggle) {
        themeToggle.addEventListener('click', toggleTheme);
    }
});
/* ===================================
   UniBase - Timer Component
   Countdown timer for test-taking
   =================================== */

class TestTimer {
    constructor(durationMinutes, onTimeUp) {
        this.duration = durationMinutes * 60; // Convert to seconds
        this.remainingTime = this.duration;
        this.onTimeUp = onTimeUp;
        this.intervalId = null;
        this.isPaused = false;
    }

    start() {
        if (this.intervalId) return; // Already running

        this.intervalId = setInterval(() => {
            if (!this.isPaused) {
                this.remainingTime--;
                this.updateDisplay();

                // Check warnings
                if (this.remainingTime === 300) { // 5 minutes
                    this.showWarning('5 minutes remaining!');
                } else if (this.remainingTime === 60) { // 1 minute
                    this.showWarning('1 minute remaining!');
                }

                // Time up
                if (this.remainingTime <= 0) {
                    this.stop();
                    if (this.onTimeUp) {
                        this.onTimeUp();
                    }
                }
            }
        }, 1000);
    }

    stop() {
        if (this.intervalId) {
            clearInterval(this.intervalId);
            this.intervalId = null;
        }
    }

    pause() {
        this.isPaused = true;
    }

    resume() {
        this.isPaused = false;
    }

    updateDisplay() {
        const timerElement = document.getElementById('timer-display');
        if (!timerElement) return;

        const minutes = Math.floor(this.remainingTime / 60);
        const seconds = this.remainingTime % 60;

        timerElement.textContent = `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;

        // Update timer class based on time remaining
        timerElement.classList.remove('warning', 'danger');
        if (this.remainingTime <= 60) {
            timerElement.classList.add('danger');
        } else if (this.remainingTime <= 300) {
            timerElement.classList.add('warning');
        }
    }

    showWarning(message) {
        // Show alert
        const alertContainer = document.getElementById('alert-container');
        if (alertContainer) {
            alertContainer.innerHTML = `
        <div class="alert alert-warning">
          <strong>‚ö†Ô∏è Warning:</strong> ${message}
        </div>
      `;

            // Auto-hide after 5 seconds
            setTimeout(() => {
                alertContainer.innerHTML = '';
            }, 5000);
        }
    }

    getTimeSpent() {
        return this.duration - this.remainingTime;
    }

    getFormattedTimeSpent() {
        const timeSpent = this.getTimeSpent();
        const minutes = Math.floor(timeSpent / 60);
        const seconds = timeSpent % 60;
        return `${minutes}m ${seconds}s`;
    }
}

</script>
<style>
/* ===================================
   UniBase Exam Platform - Main Styles
   =================================== */

/* Import Google Fonts */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

/* ===================================
   CSS Custom Properties (Design Tokens)
   =================================== */
:root {
    /* Primary Colors */
    --color-primary: #1e3a5f;
    --color-primary-dark: #152b47;
    --color-primary-light: #2a4d7a;

    /* Accent Colors */
    --color-accent: #26d0ce;
    --color-accent-dark: #1db5b3;
    --color-accent-light: #4dd9d7;

    /* Neutral Colors */
    --color-white: #ffffff;
    --color-black: #000000;
    --color-gray-50: #f9fafb;
    --color-gray-100: #f3f4f6;
    --color-gray-200: #e5e7eb;
    --color-gray-300: #d1d5db;
    --color-gray-400: #9ca3af;
    --color-gray-500: #6b7280;
    --color-gray-600: #4b5563;
    --color-gray-700: #374151;
    --color-gray-800: #1f2937;
    --color-gray-900: #111827;

    /* Semantic Colors */
    --color-success: #10b981;
    --color-warning: #f59e0b;
    --color-error: #ef4444;
    --color-info: #3b82f6;

    /* Typography */
    --font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-size-xs: 0.75rem;
    --font-size-sm: 0.875rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;
    --font-size-xl: 1.25rem;
    --font-size-2xl: 1.5rem;
    --font-size-3xl: 1.875rem;
    --font-size-4xl: 2.25rem;
    --font-size-5xl: 3rem;

    /* Spacing */
    --spacing-xs: 0.25rem;
    --spacing-sm: 0.5rem;
    --spacing-md: 1rem;
    --spacing-lg: 1.5rem;
    --spacing-xl: 2rem;
    --spacing-2xl: 3rem;
    --spacing-3xl: 4rem;

    /* Border Radius */
    --radius-sm: 0.25rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    --radius-xl: 1rem;
    --radius-full: 9999px;

    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);

    /* Transitions */
    --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
}

/* ===================================
   Global Reset & Base Styles
   =================================== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    font-size: 16px;
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-family);
    font-size: var(--font-size-base);
    line-height: 1.6;
    color: var(--color-gray-800);
    background-color: var(--color-gray-50);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* ===================================
   Typography
   =================================== */
h1,
h2,
h3,
h4,
h5,
h6 {
    font-weight: 700;
    line-height: 1.2;
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-md);
}

h1 {
    font-size: var(--font-size-5xl);
}

h2 {
    font-size: var(--font-size-4xl);
}

h3 {
    font-size: var(--font-size-3xl);
}

h4 {
    font-size: var(--font-size-2xl);
}

h5 {
    font-size: var(--font-size-xl);
}

h6 {
    font-size: var(--font-size-lg);
}

p {
    margin-bottom: var(--spacing-md);
}

a {
    color: var(--color-accent);
    text-decoration: none;
    transition: color var(--transition-fast);
}

a:hover {
    color: var(--color-accent-dark);
}

/* ===================================
   Layout Utilities
   =================================== */
.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
}

.container-fluid {
    width: 100%;
    padding: 0 var(--spacing-lg);
}

.section {
    padding: var(--spacing-3xl) 0;
}

.grid {
    display: grid;
    gap: var(--spacing-lg);
}

.grid-2 {
    grid-template-columns: repeat(2, 1fr);
}

.grid-3 {
    grid-template-columns: repeat(3, 1fr);
}

.grid-4 {
    grid-template-columns: repeat(4, 1fr);
}

.flex {
    display: flex;
    gap: var(--spacing-md);
}

.flex-center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.flex-between {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.text-center {
    text-align: center;
}

.text-left {
    text-align: left;
}

.text-right {
    text-align: right;
}

/* ===================================
   Header & Navigation
   =================================== */
header {
    background-color: var(--color-primary);
    color: var(--color-white);
    padding: var(--spacing-lg) 0;
    box-shadow: var(--shadow-md);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.header-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: var(--font-size-2xl);
    font-weight: 800;
    color: var(--color-white);
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    transition: transform var(--transition-fast);
}

.logo:hover {
    color: var(--color-accent-light);
    transform: scale(1.02);
}

.logo-img {
    height: 45px;
    width: 45px;
    object-fit: cover;
    border-radius: 50%;
    transition: transform var(--transition-fast);
}

.logo-text {
    font-size: var(--font-size-2xl);
    font-weight: 800;
    color: var(--color-white);
}

nav ul {
    list-style: none;
    display: flex;
    gap: var(--spacing-lg);
    align-items: center;
}

nav a {
    color: var(--color-white);
    font-weight: 500;
    padding: var(--spacing-sm) var(--spacing-md);
    border-radius: var(--radius-md);
    transition: all var(--transition-fast);
}

nav a:hover {
    background-color: var(--color-primary-light);
    color: var(--color-white);
    transform: translateY(-2px);
}

.auth-links {
    display: flex;
    gap: var(--spacing-md);
    align-items: center;
}

.language-selector {
    background-color: var(--color-primary-light);
    color: var(--color-white);
    border: 2px solid var(--color-white);
    border-radius: var(--radius-md);
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-sm);
    font-weight: 500;
    cursor: pointer;
    transition: all var(--transition-fast);
    font-family: var(--font-family);
}

.language-selector:hover {
    background-color: var(--color-white);
    color: var(--color-primary);
}

.language-selector:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
}

.theme-toggle {
    background-color: var(--color-primary-light);
    color: var(--color-white);
    border: 2px solid var(--color-white);
    border-radius: var(--radius-md);
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-lg);
    cursor: pointer;
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
}

.theme-toggle:hover {
    background-color: var(--color-white);
    transform: scale(1.1) rotate(15deg);
}

.theme-toggle:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.3);
}

/* ===================================
   Buttons
   =================================== */
.btn {
    display: inline-block;
    padding: var(--spacing-md) var(--spacing-xl);
    font-size: var(--font-size-base);
    font-weight: 600;
    text-align: center;
    border: none;
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-base);
    text-decoration: none;
    font-family: var(--font-family);
}

.btn-primary {
    background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
    color: var(--color-white);
    box-shadow: var(--shadow-md);
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
    color: var(--color-white);
}

.btn-secondary {
    background-color: transparent;
    color: var(--color-white);
    border: 2px solid var(--color-white);
}

.btn-secondary:hover {
    background-color: var(--color-white);
    color: var(--color-primary);
}

.btn-outline {
    background-color: transparent;
    color: var(--color-primary);
    border: 2px solid var(--color-primary);
}

.btn-outline:hover {
    background-color: var(--color-primary);
    color: var(--color-white);
}

.btn-danger {
    background-color: var(--color-error);
    color: var(--color-white);
}

.btn-danger:hover {
    background-color: #dc2626;
}

.btn-success {
    background-color: var(--color-success);
    color: var(--color-white);
}

.btn-success:hover {
    background-color: #059669;
}

.btn-lg {
    padding: var(--spacing-lg) var(--spacing-2xl);
    font-size: var(--font-size-lg);
}

.btn-sm {
    padding: var(--spacing-sm) var(--spacing-md);
    font-size: var(--font-size-sm);
}

.btn:disabled {
    opacity: 0.5;
    cursor: not-allowed;
}

/* ===================================
   Cards
   =================================== */
.card {
    background-color: var(--color-white);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    box-shadow: var(--shadow-md);
    transition: all var(--transition-base);
}

.card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-xl);
}

.card-header {
    margin-bottom: var(--spacing-lg);
    padding-bottom: var(--spacing-md);
    border-bottom: 2px solid var(--color-gray-100);
}

.card-title {
    font-size: var(--font-size-xl);
    font-weight: 700;
    color: var(--color-primary);
    margin-bottom: var(--spacing-sm);
}

.card-description {
    color: var(--color-gray-600);
    font-size: var(--font-size-sm);
}

.card-body {
    margin-bottom: var(--spacing-lg);
}

.card-footer {
    padding-top: var(--spacing-md);
    border-top: 1px solid var(--color-gray-100);
}

/* ===================================
   Hero Section
   =================================== */
.hero {
    background: linear-gradient(135deg, rgba(30, 58, 95, 0.85) 0%, rgba(21, 43, 71, 0.9) 100%),
        url('../../media/media/hero-background.jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;
    color: var(--color-white);
    padding: var(--spacing-3xl) 0;
    text-align: center;
    position: relative;
}

.hero-title {
    font-size: var(--font-size-5xl);
    color: var(--color-white);
    margin-bottom: var(--spacing-lg);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.hero-subtitle {
    font-size: var(--font-size-xl);
    color: var(--color-gray-200);
    margin-bottom: var(--spacing-2xl);
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}

.hero-actions {
    display: flex;
    gap: var(--spacing-lg);
    justify-content: center;
    flex-wrap: wrap;
}

/* ===================================
   Forms
   =================================== */
.form-group {
    margin-bottom: var(--spacing-lg);
}

.form-label {
    display: block;
    margin-bottom: var(--spacing-sm);
    font-weight: 600;
    color: var(--color-gray-700);
    font-size: var(--font-size-sm);
}

.form-input,
.form-select,
.form-textarea {
    width: 100%;
    padding: var(--spacing-md);
    border: 2px solid var(--color-gray-300);
    border-radius: var(--radius-md);
    font-size: var(--font-size-base);
    font-family: var(--font-family);
    transition: all var(--transition-fast);
    background-color: var(--color-white);
}

.form-input:focus,
.form-select:focus,
.form-textarea:focus {
    outline: none;
    border-color: var(--color-accent);
    box-shadow: 0 0 0 3px rgba(38, 208, 206, 0.1);
}

.form-input.error,
.form-select.error,
.form-textarea.error {
    border-color: var(--color-error);
}

.form-error {
    color: var(--color-error);
    font-size: var(--font-size-sm);
    margin-top: var(--spacing-xs);
    display: block;
}

.form-checkbox {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
}

.form-checkbox input {
    width: 18px;
    height: 18px;
    cursor: pointer;
}

/* ===================================
   Test Cards
   =================================== */
.test-card {
    background: linear-gradient(135deg, var(--color-white) 0%, var(--color-gray-50) 100%);
    border: 2px solid var(--color-gray-200);
    border-radius: var(--radius-xl);
    padding: var(--spacing-xl);
    transition: all var(--transition-base);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.test-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 4px;
    background: linear-gradient(90deg, var(--color-accent) 0%, var(--color-primary) 100%);
    transform: scaleX(0);
    transition: transform var(--transition-base);
}

.test-card:hover::before {
    transform: scaleX(1);
}

.test-card:hover {
    border-color: var(--color-accent);
    transform: translateY(-6px);
    box-shadow: var(--shadow-xl);
}

.test-card-badge {
    display: inline-block;
    padding: var(--spacing-xs) var(--spacing-md);
    background-color: var(--color-accent);
    color: var(--color-white);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: 600;
    margin-bottom: var(--spacing-md);
}

/* ===================================
   Timer Display
   =================================== */
.timer {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-dark) 100%);
    color: var(--color-white);
    padding: var(--spacing-lg);
    border-radius: var(--radius-lg);
    text-align: center;
    font-size: var(--font-size-2xl);
    font-weight: 700;
    box-shadow: var(--shadow-lg);
    min-width: 200px;
}

.timer.warning {
    background: linear-gradient(135deg, var(--color-warning) 0%, #d97706 100%);
    animation: pulse 1s infinite;
}

.timer.danger {
    background: linear-gradient(135deg, var(--color-error) 0%, #dc2626 100%);
    animation: pulse 0.5s infinite;
}

@keyframes pulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.05);
    }
}

/* ===================================
   Question Display
   =================================== */
.question-container {
    background-color: var(--color-white);
    border-radius: var(--radius-xl);
    padding: var(--spacing-2xl);
    box-shadow: var(--shadow-lg);
    margin-bottom: var(--spacing-xl);
}

.question-number {
    color: var(--color-accent);
    font-weight: 700;
    font-size: var(--font-size-lg);
    margin-bottom: var(--spacing-md);
}

.question-text {
    font-size: var(--font-size-xl);
    color: var(--color-gray-900);
    margin-bottom: var(--spacing-xl);
    line-height: 1.6;
}

.answer-options {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
}

.answer-option {
    padding: var(--spacing-lg);
    border: 2px solid var(--color-gray-300);
    border-radius: var(--radius-lg);
    cursor: pointer;
    transition: all var(--transition-fast);
    background-color: var(--color-white);
    font-size: var(--font-size-base);
}

.answer-option:hover {
    border-color: var(--color-accent);
    background-color: var(--color-gray-50);
    transform: translateX(8px);
}

.answer-option.selected {
    border-color: var(--color-accent);
    background: linear-gradient(135deg, var(--color-accent) 0%, var(--color-accent-dark) 100%);
    color: var(--color-white);
    font-weight: 600;
}

/* ===================================
   Dashboard Stats
   =================================== */
.stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-lg);
    margin-bottom: var(--spacing-2xl);
}

.stat-card {
    background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
    color: var(--color-white);
    padding: var(--spacing-xl);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-lg);
}

.stat-value {
    font-size: var(--font-size-4xl);
    font-weight: 800;
    margin-bottom: var(--spacing-sm);
}

.stat-label {
    font-size: var(--font-size-base);
    opacity: 0.9;
}

/* ===================================
   Footer
   =================================== */
footer {
    background-color: var(--color-gray-900);
    color: var(--color-gray-400);
    padding: var(--spacing-2xl) 0;
    margin-top: var(--spacing-3xl);
}

.footer-content {
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: var(--spacing-lg);
}

.footer-links {
    display: flex;
    gap: var(--spacing-xl);
    list-style: none;
}

.footer-links a {
    color: var(--color-gray-400);
    transition: color var(--transition-fast);
}

.footer-links a:hover {
    color: var(--color-white);
}

/* ===================================
   Alerts & Messages
   =================================== */
.alert {
    padding: var(--spacing-lg);
    border-radius: var(--radius-md);
    margin-bottom: var(--spacing-lg);
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
}

.alert-success {
    background-color: #d1fae5;
    color: #065f46;
    border-left: 4px solid var(--color-success);
}

.alert-error {
    background-color: #fee2e2;
    color: #991b1b;
    border-left: 4px solid var(--color-error);
}

.alert-warning {
    background-color: #fef3c7;
    color: #92400e;
    border-left: 4px solid var(--color-warning);
}

.alert-info {
    background-color: #dbeafe;
    color: #1e40af;
    border-left: 4px solid var(--color-info);
}

/* ===================================
   Utility Classes
   =================================== */
.mt-1 {
    margin-top: var(--spacing-sm);
}

.mt-2 {
    margin-top: var(--spacing-md);
}

.mt-3 {
    margin-top: var(--spacing-lg);
}

.mt-4 {
    margin-top: var(--spacing-xl);
}

.mb-1 {
    margin-bottom: var(--spacing-sm);
}

.mb-2 {
    margin-bottom: var(--spacing-md);
}

.mb-3 {
    margin-bottom: var(--spacing-lg);
}

.mb-4 {
    margin-bottom: var(--spacing-xl);
}

.p-1 {
    padding: var(--spacing-sm);
}

.p-2 {
    padding: var(--spacing-md);
}

.p-3 {
    padding: var(--spacing-lg);
}

.p-4 {
    padding: var(--spacing-xl);
}

.hidden {
    display: none;
}

.block {
    display: block;
}

.inline-block {
    display: inline-block;
}
/* ===================================
   UniBase - Dark Mode Styles
   =================================== */

/* Dark mode color overrides */
body.dark-mode {
    --color-gray-50: #1f2937;
    --color-gray-100: #1f2937;
    --color-gray-200: #374151;
    --color-gray-300: #4b5563;
    --color-gray-400: #6b7280;
    --color-gray-500: #9ca3af;
    --color-gray-600: #d1d5db;
    --color-gray-700: #e5e7eb;
    --color-gray-800: #f3f4f6;
    --color-gray-900: #f9fafb;

    background-color: #111827;
    color: var(--color-gray-800);
}

/* Dark mode specific overrides */
body.dark-mode .card {
    background-color: #1f2937;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
}

body.dark-mode .test-card {
    background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
    border-color: #374151;
}

body.dark-mode .form-input,
body.dark-mode .form-select,
body.dark-mode .form-textarea {
    background-color: #1f2937;
    border-color: #374151;
    color: var(--color-gray-800);
}

body.dark-mode .question-container {
    background-color: #1f2937;
}

body.dark-mode .answer-option {
    background-color: #1f2937;
    border-color: #374151;
}

body.dark-mode footer {
    background-color: #000000;
}

/* Theme toggle button */
.theme-toggle {
    background-color: transparent;
    border: 2px solid var(--color-white);
    color: var(--color-white);
    padding: 0.5rem 1rem;
    border-radius: var(--radius-md);
    cursor: pointer;
    font-size: var(--font-size-sm);
    font-weight: 600;
    transition: all var(--transition-fast);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.theme-toggle:hover {
    background-color: var(--color-white);
    color: var(--color-primary);
}

/* Language selector */
.language-selector {
    background-color: transparent;
    border: 2px solid var(--color-white);
    color: var(--color-white);
    padding: 0.5rem 1rem;
    border-radius: var(--radius-md);
    cursor: pointer;
    font-size: var(--font-size-sm);
    font-weight: 600;
    transition: all var(--transition-fast);
}

.language-selector:hover {
    background-color: var(--color-white);
    color: var(--color-primary);
}

.language-selector option {
    background-color: var(--color-primary);
    color: var(--color-white);
}
/* ===================================
   UniBase - Responsive Styles
   =================================== */

/* Tablet Devices (768px and below) */
@media (max-width: 768px) {

    /* Typography adjustments */
    h1 {
        font-size: var(--font-size-4xl);
    }

    h2 {
        font-size: var(--font-size-3xl);
    }

    h3 {
        font-size: var(--font-size-2xl);
    }

    .hero-title {
        font-size: var(--font-size-4xl);
    }

    /* Grid adjustments */
    .grid-2,
    .grid-3,
    .grid-4 {
        grid-template-columns: 1fr;
    }

    /* Navigation */
    nav ul {
        flex-direction: column;
        gap: var(--spacing-md);
        width: 100%;
    }

    .header-container {
        flex-direction: column;
        gap: var(--spacing-lg);
    }

    /* Logo responsive */
    .logo-img {
        height: 35px;
        width: 35px;
    }

    .logo-text {
        font-size: var(--font-size-xl);
    }

    /* Auth links responsive */
    .auth-links {
        width: 100%;
        justify-content: center;
        gap: var(--spacing-sm);
    }

    /* Hero section */
    .hero-actions {
        flex-direction: column;
    }

    /* Stats grid */
    .stats-grid {
        grid-template-columns: 1fr;
    }

    /* Footer */
    .footer-content {
        flex-direction: column;
        text-align: center;
    }

    .footer-links {
        flex-direction: column;
        gap: var(--spacing-md);
    }

    /* Spacing adjustments */
    .section {
        padding: var(--spacing-2xl) 0;
    }

    .container {
        padding: 0 var(--spacing-md);
    }
}

/* Mobile Devices (480px and below) */
@media (max-width: 480px) {

    /* Further typography adjustments */
    h1 {
        font-size: var(--font-size-3xl);
    }

    h2 {
        font-size: var(--font-size-2xl);
    }

    .hero-title {
        font-size: var(--font-size-3xl);
    }

    .hero-subtitle {
        font-size: var(--font-size-base);
    }

    /* Logo mobile */
    .logo-img {
        height: 30px;
        width: 30px;
    }

    .logo-text {
        font-size: var(--font-size-lg);
    }

    /* Auth buttons mobile */
    .auth-links {
        flex-direction: row;
        gap: var(--spacing-sm);
        width: 100%;
    }

    .auth-links .btn {
        flex: 1;
        padding: var(--spacing-sm) var(--spacing-md);
        font-size: var(--font-size-sm);
    }

    /* Buttons */
    .btn {
        width: 100%;
        padding: var(--spacing-md);
    }

    .hero-actions .btn {
        width: 100%;
    }

    /* Cards */
    .card {
        padding: var(--spacing-md);
    }

    .test-card {
        padding: var(--spacing-md);
    }

    /* Question container */
    .question-container {
        padding: var(--spacing-lg);
    }

    .question-text {
        font-size: var(--font-size-base);
    }

    /* Timer */
    .timer {
        font-size: var(--font-size-xl);
        min-width: 150px;
    }

    /* Forms */
    .form-input,
    .form-select,
    .form-textarea {
        font-size: var(--font-size-base);
    }
}
</style>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="UniBase - Exam preparation platform for SAT, IELTS, DTM, Milliy Certificate, and IQ tests">
    <title>UniBase - Preparation Like a Real Exam</title>
</head>

<body>
    <!-- Header -->
    <header>
    <div class="container">
        <div class="header-container">
            <a href="/" class="logo">
                <img src="/media/media/logo.jpg" alt="UniBase Logo" class="logo-img">
                <span class="logo-text">UniBase</span>
            </a>
            <nav>
                <ul>
                    <li><a href="#tests" data-translate="nav_tests">Tests</a></li>
                    <li><a href="{% url 'univers' %}" data-translate="nav_universities">Universities</a></li>
                    <li><a href="{% url 'profile' %}" data-translate="nav_news">News</a></li>

                    <li>
                        <select id="language-selector" class="language-selector">
                            <option value="en">English</option>
                            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                            <option value="uz">O'zbekcha</option>
                        </select>
                    </li>
                    <li>
                        <button id="theme-toggle" class="theme-toggle">üåô</button>
                    </li>

                    {% if user.is_authenticated %}
                        <li class="auth-links">
                            <a href="{% url 'profile' %}" class="btn btn-secondary btn-sm" data-translate="nav_dashboard">Dashboard</a>
                            <a href="{% url 'logout' %}" class="btn btn-danger btn-sm" data-translate="nav_logout">Logout</a>
                        </li>
                    {% else %}
                        <li class="auth-links">
                            <a href="{% url 'login' %}" class="btn btn-secondary btn-sm" data-translate="nav_login">Login</a>
                            <a href="{% url 'sign' %}" class="btn btn-primary btn-sm" data-translate="nav_register">Register</a>
                        </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </div>
</header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 class="hero-title" data-translate="hero_title">Preparation Like a Real Exam</h1>
            <p class="hero-subtitle" data-translate="hero_subtitle">IELTS, SAT, Milliy certificate, IQ, DTM ‚Äî timed
                practice tests in a realistic exam
                environment</p>
            <div class="hero-actions">
                <a href="{% url 'sign' %}" class="btn btn-primary btn-lg" data-translate="hero_btn_start">Start Free</a>
                <a href="#tests" class="btn btn-secondary btn-lg" data-translate="hero_btn_view">View Tests</a>
            </div>
        </div>
    </section>

    <!-- Tests Section -->
    <section id="tests" class="section">
    <div class="container">
        <h2 class="text-center mb-4" data-translate="tests_title">Choose Your Test</h2>
        <div class="grid grid-4" id="tests-grid">

            <div class="test-card">
                <span class="test-card-badge" data-translate="test_badge_english">ENGLISH</span>
                <h3 class="card-title" data-translate="test_ielts_title">IELTS</h3>
                <p class="card-description" data-translate="test_ielts_desc">Comprehensive IELTS practice across all sections with realistic exam conditions.</p>
                {% if user.is_authenticated %}
                    <a href="{% url 'ielts' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% endif %}
            </div>

            <div class="test-card">
                <span class="test-card-badge" data-translate="test_badge_academic">ACADEMIC</span>
                <h3 class="card-title" data-translate="test_sat_title">SAT</h3>
                <p class="card-description" data-translate="test_sat_desc">Prepare for SAT with Math and English sections in a timed environment.</p>
                {% if user.is_authenticated %}
                    <a href="{% url 'sat' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% endif %}
            </div>

            <div class="test-card">
                <span class="test-card-badge" data-translate="test_badge_national">NATIONAL</span>
                <h3 class="card-title" data-translate="test_milliy_title">Milliy certificate</h3>
                <p class="card-description" data-translate="test_milliy_desc">National certification exam practice with comprehensive question bank.</p>
                {% if user.is_authenticated %}
                    <a href="{% url 'fan_tanlash' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% endif %}
            </div>

            <div class="test-card">
                <span class="test-card-badge" data-translate="test_badge_entrance">ENTRANCE</span>
                <h3 class="card-title" data-translate="test_dtm_title">DTM</h3>
                <p class="card-description" data-translate="test_dtm_desc">Prepare for university entrance exams with realistic test simulations.</p>
                {% if user.is_authenticated %}
                    <a href="{% url 'dtm_test' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% endif %}
            </div>

            <div class="test-card">
                <span class="test-card-badge" data-translate="test_badge_cognitive">COGNITIVE</span>
                <h3 class="card-title" data-translate="test_iq_title">IQ</h3>
                <p class="card-description" data-translate="test_iq_desc">Test your cognitive abilities with timed IQ assessment questions.</p>
                {% if user.is_authenticated %}
                    <a href="" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn btn-outline mt-3" data-translate="test_start">Start Test</a>
                {% endif %}
            </div>

        </div>
    </div>
</section>

    <!-- Features Section -->
    <section id="features" class="section" style="background-color: var(--color-white);">
        <div class="container">
            <h2 class="text-center mb-4" data-translate="features_title">Why Choose UniBase?</h2>
            <div class="grid grid-3">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title" data-translate="feature_realistic_title">üéØ Realistic Exam Environment
                        </h3>
                    </div>
                    <div class="card-body">
                        <p data-translate="feature_realistic_desc">Experience the pressure and atmosphere of real exams
                            with authentic interfaces, timers, and
                            question formats.</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title" data-translate="feature_analytics_title">üìä Detailed Analytics</h3>
                    </div>
                    <div class="card-body">
                        <p data-translate="feature_analytics_desc">Track your performance with comprehensive analysis of
                            your strengths, weaknesses, and
                            progress over time.</p>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title" data-translate="feature_progress_title">üìà Track Your Progress</h3>
                    </div>
                    <div class="card-body">
                        <p data-translate="feature_progress_desc">Monitor your improvement with dynamic progress
                            tracking, personalized recommendations, and
                            goal setting.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <p data-translate="footer_copyright">&copy; 2023 UniBase. All rights reserved.</p>
                <ul class="footer-links">
                    <li><a href="#tests" data-translate="footer_tests">Tests</a></li>
                    <li><a href="#features" data-translate="footer_features">Features</a></li>
                    <li><a href="#" data-translate="footer_privacy">Privacy Policy</a></li>
                    <li><a href="#" data-translate="footer_contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/app/templates/js/storage.js"></script>
    <script src="/app/templates/js/auth.js"></script>
    <script src="/app/templates/js/theme.js"></script>
    <script src="/app/templates/js/language.js"></script>
    <script>
        // Update navigation based on auth status
        document.addEventListener('DOMContentLoaded', function () {
            updateNavigation();

            // Update dashboard link based on user role
            const user = getCurrentUser();
            const dashboardLink = document.getElementById('dashboard-link');
            if (user && dashboardLink) {
                if (user.role === 'admin') {
                    dashboardLink.href = 'admin-dashboard.html';
                } else {
                    dashboardLink.href = 'student-dashboard.html';
                }
            }
        });
    </script>
</body>

</html>